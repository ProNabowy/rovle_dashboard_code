import{r as w,A as y,G as F,j as a,I as i,D as I,n as C,p as q,q as D}from"./index-rFxOd0i4.js";const E=e=>{const _=new F,{setIsLoading:t}=w.useContext(y),[N,p]=w.useState([]),g=l=>{var n,s,d,r,c,o,u,h,v;return p(l),e.setFieldValue("provider_country_id",(n=l==null?void 0:l[0])==null?void 0:n.id),e.setFieldValue("provider_province_id",(r=(d=(s=l==null?void 0:l[0])==null?void 0:s.provinces)==null?void 0:d[0])==null?void 0:r.id),e.setFieldValue("provider_city_id",(v=(h=(u=(o=(c=l==null?void 0:l[0])==null?void 0:c.provinces)==null?void 0:o[0])==null?void 0:u.cities)==null?void 0:h[0])==null?void 0:v.id),null},j=l=>{var n,s,d;return((s=(n=l==null?void 0:l.target)==null?void 0:n.value)==null?void 0:s.length)===5?_.getCitiesByZipCode((d=l==null?void 0:l.target)==null?void 0:d.value).then(r=>{var c,o,u,h,v,x,b,m;p(r),e.setFieldValue("provider_province_id",(u=(o=(c=r==null?void 0:r[0])==null?void 0:c.provinces)==null?void 0:o[0])==null?void 0:u.id),e.setFieldValue("provider_city_id",(m=(b=(x=(v=(h=r==null?void 0:r[0])==null?void 0:h.provinces)==null?void 0:v[0])==null?void 0:x.cities)==null?void 0:b[0])==null?void 0:m.id)}):null};return w.useEffect(()=>{var l,n;return t(!0),(l=e.values)!=null&&l.provider_zip?_.getCitiesByZipCode((n=e.values)==null?void 0:n.provider_zip).then(s=>g(s)).finally(s=>t(!1)):_.getCountries().then(s=>{var d;p(s),e.setFieldValue("provider_country_id",(d=s==null?void 0:s[0])==null?void 0:d.id)}).finally(s=>t(!1)),()=>{}},[e.values.response_done]),{countries:N,handleBlur:j}};function z({formik:e,isRenderPassword:_}){var p,g,j,l,n,s,d,r,c,o,u,h,v,x;const{countries:t,handleBlur:N}=E(e);return a.jsxs("form",{onSubmit:e.handleSubmit,autoComplete:"off",className:"px-3 sm:px-10",children:[a.jsxs("div",{className:"flex-container",children:[a.jsxs("div",{className:"w-full sm:w-[48%]",children:[a.jsx("label",{htmlFor:"user_email",className:"label",children:"Email de login"}),a.jsx(i,{value:(p=e==null?void 0:e.values)==null?void 0:p.user_email,name:"user_email",type:"email",required:!0,onChange:e.handleChange,id:"user_email",placeholder:"Ingresar Email de login"})]}),a.jsxs("div",{className:"w-full sm:w-[48%]",children:[a.jsx("label",{htmlFor:"provider_email",className:"label",children:"Email de contacto"}),a.jsx(i,{value:(g=e==null?void 0:e.values)==null?void 0:g.provider_email,name:"provider_email",type:"email",required:!0,onChange:e.handleChange,id:"provider_email",placeholder:"Ingresar Correo electrónico"})]})]}),_?a.jsxs("div",{className:"flex-container",children:[a.jsxs("div",{className:"w-full sm:w-[48%]",children:[a.jsx("label",{htmlFor:"user_password",className:"label",children:"Contraseña"}),a.jsx(i,{value:(j=e==null?void 0:e.values)==null?void 0:j.user_password,name:"user_password",type:"password",required:!0,onChange:e.handleChange,id:"user_password",placeholder:"Ingresar Contraseña"})]}),a.jsxs("div",{className:"w-full sm:w-[48%]",children:[a.jsx("label",{htmlFor:"user_password_confirmation",className:"label",children:"Confirmación de contraseña"}),a.jsx(i,{value:(l=e==null?void 0:e.values)==null?void 0:l.user_password_confirmation,name:"user_password_confirmation",type:"password",required:!0,onChange:e.handleChange,id:"user_password_confirmation",placeholder:"Ingresar Confirmación de contraseña"})]})]}):null,a.jsxs("div",{className:"flex-container",children:[a.jsxs("div",{className:"w-full sm:w-[48%]",children:[a.jsx("label",{htmlFor:"provider_nif",className:"label",children:"NIF"}),a.jsx(i,{value:(n=e==null?void 0:e.values)==null?void 0:n.provider_nif,name:"provider_nif",type:"number",required:!0,onChange:e.handleChange,id:"provider_nif",placeholder:"Ingresar NIF"})]}),a.jsxs("div",{className:"w-full sm:w-[48%]",children:[a.jsx("label",{htmlFor:"provider_commercial_name",className:"label",children:"Nombre comercial"}),a.jsx(i,{value:(s=e==null?void 0:e.values)==null?void 0:s.provider_commercial_name,name:"provider_commercial_name",type:"text",required:!0,onChange:e.handleChange,id:"provider_commercial_name",placeholder:"Ingresar Nombre comercial"})]})]}),a.jsxs("div",{className:"flex-container",children:[a.jsxs("div",{className:"w-full sm:w-[48%]",children:[a.jsx("label",{htmlFor:"provider_official_name",className:"label",children:"Nombre oficial"}),a.jsx(i,{value:(d=e==null?void 0:e.values)==null?void 0:d.provider_official_name,name:"provider_official_name",type:"text",required:!0,onChange:e.handleChange,id:"provider_official_name",placeholder:"Ingresar Nombre oficial"})]}),a.jsxs("div",{className:"w-full sm:w-[48%]",children:[a.jsx("label",{htmlFor:"provider_address",className:"label",children:"Dirección"}),a.jsx(i,{value:(r=e==null?void 0:e.values)==null?void 0:r.provider_address,name:"provider_address",type:"text",required:!0,onChange:e.handleChange,id:"provider_address",placeholder:"Ingresar Dirección"})]})]}),a.jsxs("div",{className:"flex-container",children:[a.jsxs("div",{className:"w-full sm:w-[48%]",children:[a.jsx("label",{htmlFor:"provider_phone",className:"label",children:"Teléfono del tostador"}),a.jsx(i,{onChange:e.handleChange,value:(c=e.values)==null?void 0:c.provider_phone,name:"provider_phone",type:"number",required:!0,id:"provider_phone",placeholder:"Ingresar Teléfono"})]}),a.jsxs("div",{className:"w-full sm:w-[48%]",children:[a.jsx("label",{htmlFor:"user_phone",className:"label",children:"Teléfono de contacto"}),a.jsx(i,{onChange:e.handleChange,value:(o=e.values)==null?void 0:o.user_phone,name:"user_phone",type:"number",required:!0,id:"user_phone",placeholder:"Ingresar Teléfono"})]})]}),a.jsxs("div",{className:"flex-container",children:[a.jsxs("div",{className:"w-full sm:w-[48%]",children:[a.jsx("h2",{className:"label",children:"País"}),a.jsx(I,{value:C(t,"id",(u=e==null?void 0:e.values)==null?void 0:u.provider_country_id),onChange:b=>{var m;return e.setFieldValue("provider_country_id",(m=b.target.value)==null?void 0:m.id)},options:t,optionLabel:"name",filter:!0,emptyFilterMessage:"No hay opciones disponibles",emptyMessage:"No hay opciones disponibles",placeholder:"Seleccionar País",className:"w-full p-2  !shadow-none !rounded-none !border-t-transparent !border-l-transparent !border-r-transparent"})]}),a.jsx(q,{formik:e,countries:t,country_Key:"provider_country_id",province_Key:"provider_province_id"})]}),a.jsxs("div",{className:"flex-container",children:[a.jsx(D,{formik:e,provinces:(v=C(t,"id",(h=e==null?void 0:e.values)==null?void 0:h.provider_country_id))==null?void 0:v.provinces,province_Key:"provider_province_id",city_Key:"provider_city_id"}),a.jsxs("div",{className:"w-full sm:w-[48%]",children:[a.jsx("label",{htmlFor:"provider_zip",className:"label",children:"Código postal"}),a.jsx(i,{onChange:e.handleChange,onBlur:N,value:(x=e.values)==null?void 0:x.provider_zip,name:"provider_zip",type:"text",required:!0,min:5,max:5,maxLength:5,minLength:5,id:"provider_zip",placeholder:"Ingresar Código postal"})]})]}),a.jsx("button",{type:"submit",className:"min-btn block !mt-10 ml-auto",children:"Enviar"})]})}export{z as R};
