import{r as m,A as N,G as w,j as s,I as x,D as g,n as j}from"./index-ucQm_BBe.js";const C=()=>{const e=new w,{setIsLoading:i,user:n}=m.useContext(N),[a,v]=m.useState([]),[p,u]=m.useState([]);return m.useEffect(()=>(i(!0),e.getRoles().then(l=>{var o,d;const h=l.filter(r=>r.name!=="Provider");if(v(h),((d=(o=n==null?void 0:n.roles)==null?void 0:o[0])==null?void 0:d.name)==="admin"&&l){const r=l.filter(t=>t.name!=="Waiter").filter(t=>t.name!=="Provider");v(r)}}).then(()=>e.getCoffees().then(l=>u(l))).finally(l=>i(!1)),()=>{}),[]),{roles:a,shops:p,user:n}};function F({formik:e,asEdit:i}){var p,u,l,h,o,d,r,t,_;const{roles:n,user:a,shops:v}=C();return s.jsxs("form",{onSubmit:e.handleSubmit,autoComplete:"off",className:"px-3 sm:px-10",children:[s.jsxs("div",{className:"flex-container",children:[s.jsxs("div",{className:"w-full sm:w-[48%]",children:[s.jsx("label",{htmlFor:"user_name",className:"label",children:"Nombre"}),s.jsx(x,{value:(p=e==null?void 0:e.values)==null?void 0:p.user_name,name:"user_name",type:"text",required:!0,onChange:e.handleChange,id:"user_name",placeholder:"Ingresar Nombre"})]}),s.jsxs("div",{className:"w-full sm:w-[48%]",children:[s.jsx("label",{htmlFor:"user_email",className:"label",children:"Correo electrónico"}),s.jsx(x,{value:(u=e==null?void 0:e.values)==null?void 0:u.user_email,name:"user_email",type:"email",required:!0,onChange:e.handleChange,id:"user_email",placeholder:"Ingresar Correo electrónico"})]})]}),i?null:s.jsxs("div",{className:"flex-container",children:[s.jsxs("div",{className:"w-full sm:w-[48%]",children:[s.jsx("label",{htmlFor:"user_password",className:"label",children:"Contraseña"}),s.jsx(x,{value:(l=e==null?void 0:e.values)==null?void 0:l.user_password,name:"user_password",type:"password",required:!0,onChange:e.handleChange,id:"user_password",placeholder:"Ingresar Contraseña"})]}),s.jsxs("div",{className:"w-full sm:w-[48%]",children:[s.jsx("label",{htmlFor:"user_password_confirmation",className:"label",children:"Confirmación de contraseña"}),s.jsx(x,{value:(h=e==null?void 0:e.values)==null?void 0:h.user_password_confirmation,name:"user_password_confirmation",type:"password",required:!0,onChange:e.handleChange,id:"user_password_confirmation",placeholder:"Ingresar Confirmación de contraseña"})]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"mb-8 flex-1",children:[s.jsx("h2",{className:"label",children:"Permisos"}),s.jsx(g,{value:j(n,"id",(o=e==null?void 0:e.values)==null?void 0:o.role_id),onChange:b=>{var c;e.setFieldValue("role_id",(c=b.target.value)==null?void 0:c.id),e.setFieldValue("coffee_shop_id",void 0)},options:n,optionLabel:"name",filter:!0,emptyFilterMessage:"No hay opciones disponibles",emptyMessage:"No hay opciones disponibles",placeholder:"Seleccionar Permiso",className:"w-full p-2 !shadow-none !rounded-none !border-t-transparent !border-l-transparent !border-r-transparent"})]})}),(d=a==null?void 0:a.provider)!=null&&d.id?s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"label",children:"Cafeterías"}),s.jsx(g,{value:j((r=a==null?void 0:a.provider)==null?void 0:r.coffee_shops,"id",(t=e==null?void 0:e.values)==null?void 0:t.coffee_shop_id),onChange:b=>{var c;return e.setFieldValue("coffee_shop_id",(c=b.target.value)==null?void 0:c.id)},options:(_=a==null?void 0:a.provider)==null?void 0:_.coffee_shops,optionLabel:"name",filter:!0,emptyFilterMessage:"No hay opciones disponibles",emptyMessage:"No hay opciones disponibles",placeholder:"Seleccionar Cafeterías",className:"w-full p-2 !shadow-none !rounded-none !border-t-transparent !border-l-transparent !border-r-transparent"})]}):null,s.jsx("button",{type:"submit",className:"min-btn block !mt-10 ml-auto",children:"Enviar"})]})}export{F as U};
