import{r as t,A as f,n as _,l as p,G as m,o as v,U as h,j as c,P as x}from"./index-UqVmnRqZ.js";import{O as y}from"./OffeerForm-xNnF6viG.js";import"./inputtext.esm-L6d5V8F-.js";const g=s=>{const n=new m,l=new h,{setIsLoading:o}=t.useContext(f),r=_().search.slice(4),i=p({initialValues:{name:"",provider_id:"",description:"",level_id:"",activation_method:"",activation_amount:"",discount:"",duration:"",start_date:"",end_date:"",offer_place:"",discount_type:""}});t.useEffect(()=>(o(!0),n.getSingleOffeer(r).then(e=>{i.setValues({name:e==null?void 0:e.name,provider_id:e==null?void 0:e.provider_id,description:e==null?void 0:e.description,level_id:e==null?void 0:e.level_id,activation_method:e==null?void 0:e.activation_method,activation_amount:e==null?void 0:e.activation_amount,discount:e==null?void 0:e.discount,duration:e==null?void 0:e.duration,start_date:e==null?void 0:e.start_date,end_date:e==null?void 0:e.end_date,offer_place:e==null?void 0:e.offer_place,discount_type:e==null?void 0:e.discount_type})}).finally(e=>o(!1)),()=>{}),[]);const u=v(()=>(o(!0),l.updateOffeer(r,i.values).finally(e=>o(!1))));return{formik:i,clickHandler:u}};function b(){const{formik:s,clickHandler:n}=g();return c.jsx(x,{title:"Formulario de oferta",showActions:!1,children:c.jsx(y,{formik:s,clickHandler:n})})}export{b as default};
