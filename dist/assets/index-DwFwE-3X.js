import{r as l,A as u,G as f,j as o,P as b,D as h}from"./index-ucQm_BBe.js";import{T as x,R as y}from"./table-EIac-avB.js";import"./inputtext.esm-99rNmtVO.js";const c=new x,C=()=>{const e=new f,[s,a]=l.useState([]),[t,d]=l.useState({}),{setIsLoading:i}=l.useContext(u),[m,r]=l.useState([]);return l.useEffect(()=>(i(!0),e.getCustomers().then(n=>a(n)).then(n=>e.getRoasters().then(p=>r(p))).finally(n=>i(!1)),()=>{}),[]),l.useEffect(()=>(t!=null&&t.id&&(i(!0),e.getCustomers(`?provider_id=${t==null?void 0:t.id}`).then(n=>a(n)).finally(n=>i(!1))),n=>{}),[t]),{customers:s,roasters:m,selectedRosters:t,setselectedRosters:d}},T=e=>o.jsx("p",{className:"mb-1 capitalize text-[13px] font-medium",children:e.phone}),j=e=>{var s,a;return o.jsx("p",{className:"mb-1 capitalize text-[13px] font-medium",children:(a=(s=e.addresses)==null?void 0:s[0])==null?void 0:a.name})},N=[{field:"id",header:"ID",tamplate:c.idBodyTemplate},{field:"name",header:"Nombre",tamplate:c.nameBodyTemplate},{field:"email",header:"Correo electrónico",tamplate:c.emailBodyTemplate},{field:"phone",header:"Teléfono",tamplate:T},{field:"address",header:"Ubicaciones",tamplate:j},{field:"created_at",header:"Fecha de finalización",tamplate:c.startDateBodyTemplate}],g=({selectedRosters:e,setselectedRosters:s,rosters:a})=>o.jsxs("div",{className:"w-full sm:w-[50%] mb-6 sm:ms-6",children:[o.jsx("label",{htmlFor:"name-input",className:"mb-3 block font-medium text-[#234486]",children:"Tostador"}),o.jsx(h,{filter:!0,value:e,emptyFilterMessage:"No hay opciones disponibles",emptyMessage:"No hay opciones disponibles",onChange:t=>s(t.value),options:a,optionLabel:"commercial_name",placeholder:"Seleccionar proveedor",className:"w-full p-3 !border-r-[0] !border-l-[0] !border-t-[0] !border-b !border-b-[#b3b3b3] !shadow-none !rounded-none"})]});function D(){const{customers:e,roasters:s,selectedRosters:a,setselectedRosters:t}=C(),d=l.useRef(),i=e.map(r=>({Nombre:r.name,"Correo electrónico":r.email,Teléfono:r.phone,Ubicaciones:r.address,"Fecha de finalización":r.created_at})),m=[{title:"Nombre",dataKey:"name"},{title:"Correo electrónico",dataKey:"email"},{title:"Teléfono",dataKey:"phone"},{title:"Ubicaciones",dataKey:"address"},{title:"Fecha de finalización",dataKey:"created_at"}];return o.jsx(b,{PermissionsKey:"Clientes",title:"Clientes",showActions:!0,table:d,exportedExcelList:i,list:e,exportPDFColumns:m,children:o.jsx(y,{columns:N,list:e,table:d,filterChildern:o.jsx(g,{rosters:s,selectedRosters:a,setselectedRosters:t})})})}export{D as default};
