import{n as _,r as n,A as h,l as P,G as S,U as x,j as l,P as k}from"./index-T_rrs4rL.js";import{P as w}from"./ProductsForm-fdY3RT5v.js";import"./InputsGroup-3Y_BKlWt.js";const E=()=>{const c=_().search,[j,f]=n.useState(),p=new S,m=new x,{setIsLoading:r}=n.useContext(h),i=c.slice(4),[g,y]=n.useState({}),u=P({initialValues:g,onSubmit:o=>{const e={...o};return e.origins=e==null?void 0:e.origins.map(s=>(s==null?void 0:s.id)||s),e.coffeeShops=e==null?void 0:e.coffeeShops.map(s=>(s==null?void 0:s.id)||s),r(!0),m.updateProduct(i,e).finally(s=>r(!1))}});return n.useEffect(()=>(r(!0),p.getSingleProduct(i).then(o=>{const e={commercial_name:o==null?void 0:o.commercial_name,code:o==null?void 0:o.code,trade_name:o==null?void 0:o.trade_name,region:o==null?void 0:o.region,farm:o==null?void 0:o.farm,sca_score:o==null?void 0:o.sca_score,altitude:o==null?void 0:o.altitude,process:o==null?void 0:o.process,grades:o==null?void 0:o.grades,provider_id:o==null?void 0:o.provider_id,stock:o==null?void 0:o.stock,description:o==null?void 0:o.description,presentations:o==null?void 0:o.presentations,origins:o==null?void 0:o.origins,coffeeShops:o==null?void 0:o.coffee_shops,owner_name:o==null?void 0:o.owner_name};f(e),u.setValues(e)}).finally(o=>r(!1)),()=>{}),[]),{formik:u}};function C(){const{formik:c}=E();return l.jsx(k,{title:"Formulario de Producto",showActions:!1,children:l.jsx(w,{formik:c})})}export{C as default};
