import{r as e,A as g,u as x,l as w,h as l,S as _,j as u,P as E}from"./index-oURgFu_2.js";import{P as S}from"./PlanForm-uFC-lZ_I.js";import"./radiobutton.esm-DnO55RuI.js";const j=()=>{const{user:r,setIsLoading:i}=e.useContext(g),m=new _,s=r==null?void 0:r.provider,P=t=>{var c,d,p,f;if(!(t!=null&&t.provider_id)||!((c=t==null?void 0:t.sizes)!=null&&c.length)){if(!(t!=null&&t.provider_id))return l.warning("Advertencia","El campo del tostador es necesario, por favor complÃ©telo.");if(!((d=t==null?void 0:t.sizes)!=null&&d.length))return l.warning("Advertencia","Es necesario completar el campo de Talla, por favor.")}else{i(!0);const n={...t};return n.products=(p=n.products)==null?void 0:p.map(o=>({id:(o==null?void 0:o.id)||o})),n.coffee_shops=(f=n.coffee_shops)==null?void 0:f.map(o=>(o==null?void 0:o.id)||o),m.addPlan(n,A).finally(o=>i(!1))}},[h,V]=e.useState({name:"",status:"active",description:"",provider_id:s==null?void 0:s.id,sizes:[],coffee_shops:[],products:[]}),A=x(),a=w({initialValues:{},onSubmit:P});return e.useEffect(()=>(a.setValues(h),()=>{}),[]),{formik:a}};function b(){const{formik:r}=j();return u.jsx(E,{title:"Formulario de Plan",showActions:!1,children:u.jsx(S,{formik:r})})}export{b as default};
