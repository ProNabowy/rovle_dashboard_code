import{r as d,A as j,G as B,j as a,P as g}from"./index-UqVmnRqZ.js";import{T as v,R as A}from"./table-nZ01tZuu.js";import{T as E,D as _}from"./TableActions-ovdqFe1o.js";import{S as C}from"./SeeMore-6rhvjey9.js";import"./inputtext.esm-L6d5V8F-.js";const r=new v,F=p=>{const l=new B,n=new _,[o,c]=d.useState([]),{setIsLoading:i}=d.useContext(j);d.useEffect(()=>(i(!0),l.getPlans().then(e=>c(e)).finally(e=>i(!1)),()=>{}),[]);const h=e=>{var s;return a.jsx("p",{className:"mb-1 capitalize text-[13px] font-medium",children:(s=e==null?void 0:e.provider)==null?void 0:s.commercial_name})},y=e=>{var x;const s=e==null?void 0:e.sizes,m=(t,u)=>{var f;return a.jsxs("p",{className:`capitalize text-[13px] font-medium mb-1 rounded-[5px] text-[#58291E] ${u}`,children:["-",(f=t==null?void 0:t.size)==null?void 0:f.name," = ",parseInt(t==null?void 0:t.price)," Euro"]},t.index)},N=(x=s==null?void 0:s.slice(0,3))==null?void 0:x.map((t,u)=>m(t,"text-center"));return a.jsxs("div",{children:[N,(s==null?void 0:s.length)>2&&a.jsx(C,{list:s,headerName:"Paquetes",tamplate:m})]})},P=e=>a.jsx("p",{className:`mb-1 capitalize text-[13px] font-medium ${e.status==="active"?"text-[#28C76F]":"text-[#FF5C34]"}`,children:e.status}),T=e=>a.jsx(E,{path:`/products/plans/edit-plan?id=${e==null?void 0:e.id}`,handelDeleteFunction:n.deletePlan,rowData:e,editKey:"dashboard.plans.update",deleteKey:"dashboard.plans.destroy",PagePermissionKey:"Plans",list:o,state:c}),b=[{field:"id",header:"ID",classNames:"!px-[15px]",tamplate:r.idBodyTemplate},{field:"name",header:"Nombre Planes",classNames:"!px-[0px]",tamplate:r.nameBodyTemplate},{field:"provider.commercial_name",header:"Nombre del Tostador",classNames:"!px-[15px]",tamplate:h},{field:"status",header:"Estado",classNames:"!px-[15px]",tamplate:P},{field:"provider.commercial_name",header:"Tallas",classNames:"!px-[15px]",tamplate:y},{field:"rowData.updated_at",header:"Fecha de finalización",classNames:"!px-[15px]",tamplate:r.lastDateBodyTemplate},{field:"action",header:"Acción",classNames:"!px-[15px]",tamplate:T}];return{plans:o,columns:b}};function I(){const{plans:p,columns:l}=F(),n=d.useRef();return a.jsx(g,{url:"/products/plans/add-plan",title:"Todos los Planes",showActions:!0,PermissionsKey:"Plans",roleKey:"dashboard.plans.store",columns:l,table:n,list:p,saveName:"Plans",children:a.jsx(A,{columns:l,list:p,table:n})})}export{I as default};
