import{r as n,A as j,G as E,j as s,P as K}from"./index-ucQm_BBe.js";import{T as _,R as g}from"./table-EIac-avB.js";import{T as v,D as B}from"./TableActions-aGRwLZuQ.js";import{S as F}from"./SeeMore-XiRuvKt6.js";import"./inputtext.esm-99rNmtVO.js";const u=new _,C=o=>{const m=new E,d=new B,[r,p]=n.useState([]),{setIsLoading:l}=n.useContext(j);n.useEffect(()=>(l(!0),m.getPlans().then(e=>p(e)).finally(e=>l(!1)),()=>{}),[]);const c=e=>{var t;return s.jsx("p",{className:"mb-1 capitalize text-[13px] font-medium",children:(t=e==null?void 0:e.provider)==null?void 0:t.commercial_name})},i=e=>{var f;const t=e==null?void 0:e.sizes,h=(a,x)=>{var y;return s.jsxs("p",{className:`capitalize text-[13px] font-medium mb-1 rounded-[5px] text-[#58291E] ${x}`,children:["-",(y=a==null?void 0:a.size)==null?void 0:y.name," = ",a==null?void 0:a.price," Euro"]},a.index)},P=(f=t==null?void 0:t.slice(0,3))==null?void 0:f.map((a,x)=>s.jsx(n.Fragment,{children:h(a,"text-center")},x));return s.jsxs("div",{children:[P,(t==null?void 0:t.length)>2&&s.jsx(F,{list:t,headerName:"Paquetes",tamplate:h})]})},T=e=>s.jsx("p",{className:`mb-1 capitalize text-[13px] font-medium ${e.status==="active"?"text-[#28C76F]":"text-[#FF5C34]"}`,children:e.status}),b=e=>s.jsx(v,{path:`/products/plans/edit-plan?id=${e==null?void 0:e.id}`,handelDeleteFunction:d.deletePlan,rowData:e,editKey:"dashboard.plans.update",deleteKey:"dashboard.plans.destroy",PagePermissionKey:"Plans",list:r,state:p}),N=[{field:"id",header:"ID",classNames:"!px-[15px]",tamplate:u.idBodyTemplate},{field:"name",header:"Nombre Planes",classNames:"!px-[0px]",tamplate:u.nameBodyTemplate},{field:"provider.commercial_name",header:"Nombre del Tostador",classNames:"!px-[15px]",tamplate:c},{field:"status",header:"Estado",classNames:"!px-[15px]",tamplate:T},{field:"provider.commercial_name",header:"Tallas",classNames:"!px-[15px]",tamplate:i},{field:"rowData.updated_at",header:"Fecha de inicio",classNames:"!px-[15px]",tamplate:u.lastDateBodyTemplate},{field:"action",header:"AcciÃ³n",classNames:"!px-[15px]",tamplate:b}];return{plans:r,columns:N}};function G(){const{plans:o,columns:m}=C(),d=n.useRef(),r=o.map(l=>{var c;return{"Nombre Planes":l.name,"Nombre del Tostador":l.provider.commercial_name,Estado:l.status,Tallas:(c=l.sizes)==null?void 0:c.map(i=>`${i.size.name} = ${i.price}`).join(", "),"Fecha de inicio":l.updated_at}}),p=[{title:"Nombre Planes",dataKey:"name"},{title:"Nombre del Tostador",dataKey:"provider.commercial_name"},{title:"Estado",dataKey:"status"},{title:"Tallas",dataKey:"sizes"}];return s.jsx(K,{url:"/products/plans/add-plan",title:"Todos los Planes",showActions:!0,PermissionsKey:"Plans",roleKey:"dashboard.plans.store",table:d,exportedExcelList:r,list:o,exportPDFColumns:p,children:s.jsx(g,{columns:m,list:o,table:d})})}export{G as default};
