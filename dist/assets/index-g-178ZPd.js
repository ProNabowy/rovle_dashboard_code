import{n as P,r as n,A as S,l as x,G as k,U as w,j as p,P as E}from"./index-UqVmnRqZ.js";import{P as j}from"./ProductsForm-xmDFzZKI.js";const y=()=>{const c=P().search,[U,m]=n.useState(),g=new k,_=new w,{setIsLoading:r}=n.useContext(S),i=c.slice(4),[h,V]=n.useState({}),u=x({initialValues:h,onSubmit:e=>{var l,f;const o={...e};return o.origins=(l=o==null?void 0:o.origins)==null?void 0:l.map(s=>(s==null?void 0:s.id)||s),o.coffeeShops=(f=o==null?void 0:o.coffeeShops)==null?void 0:f.map(s=>(s==null?void 0:s.id)||s),r(!0),_.updateProduct(i,o).finally(s=>r(!1))}});return n.useEffect(()=>(r(!0),g.getSingleProduct(i).then(e=>{const o={commercial_name:e==null?void 0:e.commercial_name,code:e==null?void 0:e.code,trade_name:e==null?void 0:e.trade_name,region:e==null?void 0:e.region,farm:e==null?void 0:e.farm,sca_score:e==null?void 0:e.sca_score,altitude:e==null?void 0:e.altitude,process:e==null?void 0:e.process,grades:e==null?void 0:e.grades,provider_id:e==null?void 0:e.provider_id,stock:e==null?void 0:e.stock,description:e==null?void 0:e.description,presentations:e==null?void 0:e.presentations,origins:e==null?void 0:e.origins,coffeeShops:e==null?void 0:e.coffee_shops,owner_name:e==null?void 0:e.owner_name};m(o),u.setValues(o)}).finally(e=>r(!1)),()=>{}),[]),{formik:u}};function F(){const{formik:c}=y();return p.jsx(E,{title:"Formulario de Producto",showActions:!1,children:p.jsx(j,{formik:c})})}export{F as default};
