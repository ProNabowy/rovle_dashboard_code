import{r as l,A as j,G as g,j as a,P as B}from"./index-oURgFu_2.js";import{T as v,R as A}from"./table-Tug-ghy4.js";import{T as E,D as F}from"./TableActions-h36uD3Fi.js";import{S as _}from"./SeeMore-8sNrOHXI.js";import"./inputtext.esm-xRPDbi-V.js";const o=new v,C=p=>{const n=new g,d=new F,[c,i]=l.useState([]),{setIsLoading:m}=l.useContext(j);l.useEffect(()=>(m(!0),n.getPlans().then(e=>i(e)).finally(e=>m(!1)),()=>{}),[]);const h=e=>{var s;return a.jsx("p",{className:"mb-1 capitalize text-[13px] font-medium",children:(s=e==null?void 0:e.provider)==null?void 0:s.commercial_name})},y=e=>{var u;const s=e==null?void 0:e.sizes,x=(t,r)=>{var f;return a.jsxs("p",{className:`capitalize text-[13px] font-medium mb-1 rounded-[5px] text-[#58291E] ${r}`,children:["-",(f=t==null?void 0:t.size)==null?void 0:f.name," = ",parseInt(t==null?void 0:t.price)," Euro"]},t.index)},N=(u=s==null?void 0:s.slice(0,3))==null?void 0:u.map((t,r)=>a.jsx(l.Fragment,{children:x(t,"text-center")},r));return a.jsxs("div",{children:[N,(s==null?void 0:s.length)>2&&a.jsx(_,{list:s,headerName:"Paquetes",tamplate:x})]})},P=e=>a.jsx("p",{className:`mb-1 capitalize text-[13px] font-medium ${e.status==="active"?"text-[#28C76F]":"text-[#FF5C34]"}`,children:e.status}),T=e=>a.jsx(E,{path:`/products/plans/edit-plan?id=${e==null?void 0:e.id}`,handelDeleteFunction:d.deletePlan,rowData:e,editKey:"dashboard.plans.update",deleteKey:"dashboard.plans.destroy",PagePermissionKey:"Plans",list:c,state:i}),b=[{field:"id",header:"ID",classNames:"!px-[15px]",tamplate:o.idBodyTemplate},{field:"name",header:"Nombre Planes",classNames:"!px-[0px]",tamplate:o.nameBodyTemplate},{field:"provider.commercial_name",header:"Nombre del Tostador",classNames:"!px-[15px]",tamplate:h},{field:"status",header:"Estado",classNames:"!px-[15px]",tamplate:P},{field:"provider.commercial_name",header:"Tallas",classNames:"!px-[15px]",tamplate:y},{field:"rowData.updated_at",header:"Fecha de finalización",classNames:"!px-[15px]",tamplate:o.lastDateBodyTemplate},{field:"action",header:"Acción",classNames:"!px-[15px]",tamplate:T}];return{plans:c,columns:b}};function I(){const{plans:p,columns:n}=C(),d=l.useRef();return a.jsx(B,{url:"/products/plans/add-plan",title:"Todos los Planes",showActions:!0,PermissionsKey:"Plans",roleKey:"dashboard.plans.store",columns:n,table:d,list:p,saveName:"Plans",children:a.jsx(A,{columns:n,list:p,table:d})})}export{I as default};
