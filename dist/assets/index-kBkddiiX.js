import{r as p,A as g,u as w,l as A,h as r,S as x,j as f,P as E}from"./index-oURgFu_2.js";import{O as h}from"./OffeerForm-2HRf83rl.js";import"./inputtext.esm-xRPDbi-V.js";const y=n=>{var c;const m=new x,{setIsLoading:e,user:t}=p.useContext(g),a=w(),_=o=>{if(!(o!=null&&o.provider_id)||!(o!=null&&o.level_id)||!(o!=null&&o.activation_method)||!(o!=null&&o.discount_type)||!(o!=null&&o.offer_place)){if(console.log(o),!(o!=null&&o.provider_id))return r.warning("Advertencia","El campo del Tostador es necesario, por favor complételo.");if(!(o!=null&&o.level_id))return r.warning("Advertencia","El campo del Nivel es necesario, por favor complételo.");if(!(o!=null&&o.activation_method))return r.warning("Advertencia","El campo del Activo es necesario, por favor complételo.");if(!(o!=null&&o.discount_type))return r.warning("Advertencia","El campo del T.Promo es necesario, por favor complételo.");if(!(o!=null&&o.offer_place))return r.warning("Advertencia","El campo del Recurrencia es necesario, por favor complételo.")}else return e(!0),m.addOffeer(o,a).finally(i=>e(!1))},d=A({initialValues:{name:"",provider_id:(c=t==null?void 0:t.provider)==null?void 0:c.id,description:"",level_id:"",activation_method:"",activation_amount:"",discount:"",duration:"",start_date:new Date,end_date:new Date,offer_place:"",discount_type:""},onSubmit:_});return p.useEffect(()=>{var o,i;return(o=t==null?void 0:t.provider)!=null&&o.id&&d.setFieldValue("provider_id",(i=t==null?void 0:t.provider)==null?void 0:i.id),()=>{}},[t]),{formik:d}};function S(){const{formik:n}=y();return f.jsx(E,{title:"Formulario de oferta",showActions:!1,children:f.jsx(h,{formik:n})})}export{S as default};
