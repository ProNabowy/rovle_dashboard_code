import{r as d,A as u,G as x,j as i,P as f}from"./index-rFxOd0i4.js";import{T as h,R as y}from"./table-VNI4Whwy.js";import{T as b,D as T}from"./TableActions-rU5F1qn8.js";import"./inputtext.esm-3DeXqsqN.js";const n=new h,N=t=>{const c=new x,a=new T,[l,r]=d.useState([]),{setIsLoading:e}=d.useContext(u);d.useEffect(()=>(e(!0),c.getUsers().then(s=>r(s)).finally(()=>e(!1)),()=>{}),[]);const o=s=>i.jsx("p",{className:"mb-1 capitalize text-[13px] font-medium ",children:s==null?void 0:s.role_name}),p=s=>i.jsx(b,{path:`/groups/users/edit-user?id=${s==null?void 0:s.id}`,handelDeleteFunction:a.deleteUser,rowData:s,editKey:"dashboard.users.update",deleteKey:"dashboard.users.destroy",PagePermissionKey:"Users",state:r,list:l}),m=[{field:"id",header:"ID",classNames:"!px-[15px]",tamplate:n.idBodyTemplate},{field:"name",header:"Nombre",classNames:"!px-[0px]",tamplate:n.nameBodyTemplate},{field:"email",header:"Correo electrónico",classNames:"!px-[15px]",tamplate:n.emailBodyTemplate},{field:"role_name",header:"Rol",classNames:"!px-[15px]",tamplate:o},{field:"updated_at",header:"Fecha de finalización",classNames:"!px-[15px]",tamplate:n.lastDateBodyTemplate},{field:"actions",header:"Acción",classNames:"!px-[15px]",tamplate:p}];return{users:l,columns:m}};function g(){const{users:t,columns:c}=N(),a=d.useRef(),l=t.map(e=>{var o;return{Nombre:e.name,"Correo electrónico":e.email,Rol:(e==null?void 0:e.roles)&&((o=e==null?void 0:e.roles[0])==null?void 0:o.name),"Fecha de finalización":e.updated_at}}),r=[{title:"Nombre",dataKey:"name"},{title:"Correo electrónico",dataKey:"email"},{title:"Fecha de finalización",dataKey:"updated_at"}];return i.jsx(f,{url:"add-user",title:"Miembros del equipo",showActions:!0,PermissionsKey:"Users",roleKey:"dashboard.users.store",table:a,exportedExcelList:l,list:t,exportPDFColumns:r,children:i.jsx(y,{columns:c,table:a,list:t})})}export{g as default};
